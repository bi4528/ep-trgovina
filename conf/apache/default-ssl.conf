
<IfModule mod_ssl.c>
	<VirtualHost _default_:443>
		ServerAdmin webmaster@localhost

		DocumentRoot /var/www/html

		# Available loglevels: trace8, ..., trace1, debug, info, notice, warn,
		# error, crit, alert, emerg.
		# It is also possible to configure the loglevel for particular
		# modules, e.g.
		#LogLevel info ssl:warn

		ErrorLog ${APACHE_LOG_DIR}/error.log
		CustomLog ${APACHE_LOG_DIR}/access.log combined

		# For most configuration files from conf-available/, which are
		# enabled or disabled at a global level, it is possible to
		# include a line for only one particular virtual host. For example the
		# following line enables the CGI configuration for this host only
		# after it has been globally disabled with "a2disconf".
		#Include conf-available/serve-cgi-bin.conf

		#   SSL Engine Switch:
		#   Enable/Disable SSL for this virtual host.
		SSLEngine on
		SSLProtocol -all +TLSv1.2

		#   A self-signed (snakeoil) certificate can be created by installing
		#   the ssl-cert package. See
		#   /usr/share/doc/apache2/README.Debian.gz for more info.
		#   If both key and certificate are stored in the same file, only the
		#   SSLCertificateFile directive is needed.
		SSLCertificateFile	/etc/apache2/ssl/localhost.pem
		#SSLCertificateKeyFile /etc/apache2/ssl/localhost-key.pem
		SSLCACertificateFile	/etc/apache2/ssl/eptrgovinaca.crt
		SSLCARevocationFile	/etc/apache2/ssl/eptrgovinaca-crl.pem
		SSLCARevocationCheck	chain

		Alias /netbeans /home/klemen/NetBeansProjects
		<Directory /home/klemen/NetBeansProjects>
			Require all granted
			AllowOverride all
		</Directory>

		<LocationMatch "netbeans/ep-trgovina/index.php/prijava/osebje">
			SSLVerifyClient require
			SSLVerifyDepth 1
			SSLOptions +ExportCertData
		</LocationMatch>
		

		<FilesMatch "\.(cgi|shtml|phtml|php)$">
				SSLOptions +StdEnvVars
		</FilesMatch>
		<Directory /usr/lib/cgi-bin>
				SSLOptions +StdEnvVars
		</Directory>


	</VirtualHost>
</IfModule>
